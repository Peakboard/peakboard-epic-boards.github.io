<!DOCTYPE html>
<html lang="{{ page.lang | default: site.lang | default: " en " }}" class="h-full no-js">
<head>
    {% include head.html %}
    <script src="{{ '/assets/search/search.js' | relative_url }}?{{ site.time | date: '%s%N' }}"></script>

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/instantsearch.css@7.3.1/themes/algolia-min.css" integrity="sha256-HB49n/BZjuqiCtQQf49OdZn63XuKFaxcIHWf0HNKte8=" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/algoliasearch@3.33.0/dist/algoliasearchLite.min.js" integrity="sha256-3Laj91VXexjTlFLgL8+vvIq27laXdRmFIcO2miulgEs=" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/instantsearch.js@3.4.0/dist/instantsearch.production.min.js" integrity="sha256-pM0n88cBFRHpSn0N26ETsQdwpA7WAXJDvkHeCLh3ujI=" crossorigin="anonymous"></script>
    <script src="https://polyfill.io/v3/polyfill.min.js?features=default,Array.prototype.find,Array.prototype.includes"></script>
</head>

<body class="font-sans flex flex-col min-h-full">
    {% include gtm_body.html %}

    <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
    <![endif]-->
    <div class="flex-auto">
        {% include page_header.html lang_selector="search" %}

        {% for lang in site.language %}
            {% if lang contains page.lang %}
                {% for text in lang %}
                    {% if text != page.lang %}
                        {% assign text_search_title = text.search-title %}
                        {% assign text_search_results = text.search-results %}
                        {% assign text_search_no_results = text.search-no-results %}
                        {% assign text_search_bar_placeholder = text.search-bar-placeholder %}
                    {% endif %}
                {% endfor %}
            {% endif %}
        {% endfor %}

        <section class="hero-search py-8 px-8">
            <h3 class="font-bold text-4xl text-white">{{ text_search_title }}</h3>
            <div id="search-box" class="mt-4">
                <!-- SearchBox -->
            </div>
        </section>

        <div class="result-container my-6 max-w-xl">
            <div id="results" class="ais-menu-select--header ais-header">
                {{ text_search_results }}
            </div>
            <div id="hits">
                <!-- Hits -->
            </div>
            <div id="pagination">
                <!-- Pagination  -->
            </div>
        </div>

        <!-- TEMPLATES -->
        {% raw %}
        <script type="text/html" id="hit-template">
            <a href="{{ url }}?fromSearch=true">
                <div class="hit">
                    <div class="hit-content">
                        <h3 class="hit-page-title">{{ title }}</h3>
                        <p class="hit-description">{{{ _highlightResult.content.value }}}</p>
                    </div>
                </div>
            </a>
            <div class="ais-menu-select--header ais-header"></div>
        </script>

        <script type="text/html" id="no-results-template">
            <div id="no-results-message">
                <p>{% endraw %}{{ text_search_no_results }}{% raw %} <em>"{{ query }}"</em>.</p>
            </div>
        </script>
        {% endraw %}
        <!-- /TEMPLATES -->

        <!-- LANGUAGE -->
        <div id="search-box-text" class="invisible">{{ text_search_bar_placeholder }}</div>
        <div id="language" class="invisible">{{ page.lang }}</div>
        <!-- /LANGUAGE -->
    </div>

    {% include footer.html %}

    <script src="{{ '/assets/app.js' | relative_url }}?{{ site.time | date: '%s%N' }}"></script>
</body>

</html>
